<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Villares - Documentos</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ </text></svg>">
</head>
<body>
      <script>
        (function() {
            const isAuthenticated = localStorage.getItem('isAuthenticated');
            const currentUser = localStorage.getItem('currentUser');
            
            if (!isAuthenticated || !currentUser) {
                console.log('âŒ UsuÃ¡rio nÃ£o autenticado, redirecionando para login...');
                localStorage.removeItem('isAuthenticated');
                localStorage.removeItem('currentUser');
                window.location.href = 'login.html';
            }
        })();
    </script>

    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>ğŸ  Villares ImÃ³veis</h2>
            <p id="current-user">UsuÃ¡rio</p>
        </div>

        <ul class="sidebar-menu">
            <li><a href="#" onclick="showPage('dashboard')" class="active">ğŸ“Š Dashboard</a></li>
            <li><a href="#" onclick="logout()" style="color: #dc3545;">ğŸšª Sair</a></li>
        </ul>

        <div class="frase-do-dia">
            <h4>ğŸ’¡ Frase do Dia</h4>
            <p id="frase-texto">Carregando...</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Dashboard -->
        <div id="dashboard" class="dashboard-container">
            <div class="page-header">
                <h1>ğŸ“Š Dashboard - Sistema de Documentos</h1>
                <div class="user-info">
                    <span id="current-user-display">UsuÃ¡rio</span>
                </div>
            </div>

            <div class="alert alert-info">
                <strong>Bem-vindo ao Sistema Villares ImÃ³veis!</strong> Selecione um documento para gerar.
            </div>

            <!-- Cards de FormulÃ¡rios -->
            <div class="form-cards-section">
                <h2 class="section-title">ğŸ“‹ FormulÃ¡rios</h2>
                <div class="row">
                    <div class="col-4">
                        <a href="#" onclick="showPage('cadastro-imovel')" class="card-button">
                            <div class="card-icon">ğŸ </div>
                            <div class="card-title">Cadastro de ImÃ³vel</div>
                            <div class="card-description">Cadastrar novo imÃ³vel no sistema</div>
                        </a>
                    </div>
                    <div class="col-4">
                        <a href="#" onclick="showPage('contrato-locacao')" class="card-button">
                            <div class="card-icon">ğŸ“</div>
                            <div class="card-title">Contrato de LocaÃ§Ã£o</div>
                            <div class="card-description">Gerar contrato de locaÃ§Ã£o</div>
                        </a>
                    </div>
                    <div class="col-4">
                        <a href="#" onclick="showPage('contrato-administracao')" class="card-button">
                            <div class="card-icon">ğŸ“‹</div>
                            <div class="card-title">Contrato AdministraÃ§Ã£o</div>
                            <div class="card-description">Contrato de administraÃ§Ã£o</div>
                        </a>
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-4">
                        <a href="#" onclick="showPage('ficha-cadastral')" class="card-button">
                            <div class="card-icon">ğŸ“„</div>
                            <div class="card-title">Ficha Cadastral</div>
                            <div class="card-description">Ficha cadastral de cliente</div>
                        </a>
                    </div>
                    <div class="col-4">
                        <a href="#" onclick="showPage('recibo-aluguel')" class="card-button">
                            <div class="card-icon">ğŸ’°</div>
                            <div class="card-title">Recibo de Aluguel</div>
                            <div class="card-description">Emitir recibo de aluguel</div>
                        </a>
                    </div>
                    <div class="col-4">
                        <a href="#" onclick="showPage('termo-vistoria')" class="card-button">
                            <div class="card-icon">ğŸ”</div>
                            <div class="card-title">Termo de Vistoria</div>
                            <div class="card-description">Termo de vistoria do imÃ³vel</div>
                        </a>
                    </div>
                </div>

                <!-- GestÃ£o de CondomÃ­nios -->
                <div class="row mt-3">
                    <div class="col-4">
                        <a href="#" onclick="showPage('gestao-condominios')" class="card-button">
                            <div class="card-icon">ğŸ¢</div>
                            <div class="card-title">GestÃ£o de CondomÃ­nios</div>
                            <div class="card-description">Documentos para gestÃ£o condominial</div>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Os cards de links externos serÃ£o adicionados automaticamente pelo JavaScript -->
            
        </div>

        <!-- ConteÃºdo das PÃ¡ginas -->
        <div id="page-content"></div>
    </div>

    <!-- Incluir todos os scripts -->
    <script src="app.js"></script>
    <script src="cadastroimovel.js"></script>
    <script src="contratoLocacao.js"></script>
    <script src="contratoAdministracao.js"></script>
    <script src="fichaCadastral.js"></script>
    <script src="reciboAluguel.js"></script>
    <script src="termoVistoria.js"></script>
    <script src="condominio.js"></script>

    <script>
        // FunÃ§Ãµes globais necessÃ¡rias
        function logout() {
            localStorage.removeItem('isAuthenticated');
            localStorage.removeItem('currentUser');
            window.location.href = 'login.html';
        }

        function goBack() {
            showPage('dashboard');
        }

        // InicializaÃ§Ã£o
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Sistema carregado - UsuÃ¡rio:', localStorage.getItem('currentUser'));
            
            // Atualizar display do usuÃ¡rio
            const currentUser = localStorage.getItem('currentUser');
            if (currentUser) {
                const userElements = document.querySelectorAll('#current-user, #current-user-display');
                userElements.forEach(el => {
                    if (el) el.textContent = currentUser;
                });
            }
        });
    </script>
</body>
</html>